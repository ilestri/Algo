const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/bfs-CrvPtZKe.js","assets/utils-CowMPuqP.js","assets/steps-C4T7tiBa.js","assets/dfs-j_r2D6ab.js","assets/dijkstra-Dff9KY7M.js","assets/binary-DrxaS04F.js","assets/bubble-CFH5zSN5.js","assets/normalize-array-input-DMzkLNrw.js","assets/array-utils-BfWpXnYT.js","assets/insertion-Du6BJrbs.js","assets/merge-BcIPpIWS.js","assets/quick-1I9WEm1W.js","assets/selection-BfsZd4x9.js","assets/bst-BQ3NEYK0.js"])))=>i.map(i=>d[i]);
import{e as j,f as D,c as k,o as w,F as H,g as G,a as i,n as W,t as q,h as Y,b as P,i as L,j as K,k as Me,u as Re,l as De,m as Ce,p as je,q as Be,s as Fe,v as Pe,x as F,H as be,d as te,y as V,z as ze,A as ke,B as oe,C as Q,D as Z,E as Se,G as pe,I as Ue,J as Je,_ as J,K as ue,L as Ve,M as Ke,N as He,O as Ge}from"./index-COuPf9lu.js";import{_ as We}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Ze=["aria-label"],Ye=["x","y","width","height","data-value"],Xe=["x","y"],ce=1e3,de=400,Qe=20,et=10,tt=j({__name:"BarArray",props:{values:{},active:{},sorted:{},ariaLabel:{}},setup(t){const e=t,s=D(()=>e.ariaLabel??`막대 그래프: ${e.values.length}개 원소`),l=D(()=>{const c=Math.max(0,...e.values);return c>0?c:1}),a=D(()=>de-Qe),r=D(()=>a.value/l.value);function u(c){const n=e.sorted;return n?typeof n.has=="function"?!!n.has(c):Array.isArray(n)?n.includes(c):typeof n=="object"?!!n[c]:!1:!1}return(c,n)=>(w(),k("g",{role:"img","aria-label":s.value,tabindex:"0",class:"focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500 rounded-sm"},[(w(!0),k(H,null,G(e.values,(o,p)=>(w(),k(H,{key:p},[i("rect",{x:p*(ce/e.values.length),y:de-o*r.value,width:ce/e.values.length-2,height:o*r.value,"data-value":o,class:W(["transition-all",u(p)?"fill-green-500":e.active?.includes(p)?"fill-blue-500":"fill-slate-400"])},null,10,Ye),i("text",{x:(p+.5)*(ce/e.values.length),y:de+et,"dominant-baseline":"hanging","text-anchor":"middle",class:"text-[40px] font-medium fill-slate-700 dark:fill-slate-200 select-none"},q(o),9,Xe)],64))),128))],8,Ze))}}),st=["aria-label"],nt=["x1","y1","x2","y2"],rt=["x","y"],ot=["cx","cy"],at=["x","y"],it=j({__name:"GraphView",props:{nodes:{},edges:{},activeNodes:{},activeEdge:{},showWeights:{type:Boolean},ariaLabel:{}},setup(t){const e=t,s=D(()=>e.ariaLabel??`그래프: 노드 ${e.nodes.length}개, 간선 ${e.edges.length}개`);return(l,a)=>(w(),k("g",{role:"img","aria-label":s.value},[(w(!0),k(H,null,G(e.edges,r=>(w(),k("g",{key:r.u+"-"+r.v,class:"stroke-slate-500"},[i("line",{x1:e.nodes[r.u].x,y1:e.nodes[r.u].y,x2:e.nodes[r.v].x,y2:e.nodes[r.v].y,"stroke-width":"2"},null,8,nt),e.showWeights&&r.w!=null?(w(),k("text",{key:0,x:(e.nodes[r.u].x+e.nodes[r.v].x)/2,y:(e.nodes[r.u].y+e.nodes[r.v].y)/2-4,"text-anchor":"middle",class:"fill-slate-700 dark:fill-slate-200 text-xs select-none"},q(r.w),9,rt)):Y("",!0)]))),128)),(w(!0),k(H,null,G(e.nodes,r=>(w(),k("g",{key:r.id},[i("circle",{cx:r.x,cy:r.y,r:"16",class:W(["stroke-2","stroke-white",e.activeNodes?.includes(r.id)?"fill-blue-500":"fill-slate-600"])},null,10,ot),i("text",{x:r.x,y:r.y+4,"text-anchor":"middle",class:"fill-white text-xs select-none"},q(r.label??r.id),9,at)]))),128))],8,st))}}),lt=["aria-label"],ut=["x1","y1","x2","y2"],ct=["transform"],dt=["fill"],pt={"text-anchor":"middle",dy:"5",class:"text-sm fill-current select-none"},ft=j({__name:"TreeView",props:{nodes:{},edges:{},ariaLabel:{}},setup(t){const e=t,s=D(()=>e.ariaLabel??`이진 탐색 트리: 노드 ${e.nodes.length}개`);return(l,a)=>(w(),k("g",{role:"img","aria-label":s.value},[(w(!0),k(H,null,G(e.edges,(r,u)=>(w(),k("g",{key:u,stroke:"currentColor",opacity:"0.5"},[i("line",{x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,"stroke-width":"2"},null,8,ut)]))),128)),(w(!0),k(H,null,G(e.nodes,r=>(w(),k("g",{key:r.id,transform:`translate(${r.x},${r.y})`},[i("circle",{r:16,fill:r.highlight?"var(--accent)":"var(--panel)",stroke:"currentColor","stroke-width":"2"},null,8,dt),i("text",pt,q(r.value),1)],8,ct))),128))],8,lt))}}),mt=["x","width"],vt=["x","width"],yt=["transform"],gt=j({__name:"Overlays",props:{highlights:{},highlightRange:{},pivotIndex:{},pointers:{},n:{},values:{}},setup(t){const e=t;return(s,l)=>(w(),k("g",null,[e.highlightRange?(w(),k("rect",{key:0,x:e.highlightRange.l*(1e3/(e.n||1)),y:"0",width:(e.highlightRange.r-e.highlightRange.l+1)*(1e3/(e.n||1)),height:"100%",class:"fill-blue-400/10"},null,8,mt)):Y("",!0),Number.isFinite(e?.pivotIndex)?(w(),k("rect",{key:1,x:e.pivotIndex*(1e3/(e.n||1)),y:"0",width:1e3/(e.n||1),height:"100%",class:"fill-amber-400/20"},null,8,vt)):Y("",!0),(w(!0),k(H,null,G(e.pointers||[],a=>(w(),k("g",{key:a.name,transform:`translate(${(a.index+.5)*(1e3/(e.n||1))}, 0)`},[i("title",null,`
          `+q(`${(a.name||"").toUpperCase()} @ ${a.index}`+(Number.isFinite(e.values?.[a.index])?` = ${e.values[a.index]}`:""))+`
        `,1),i("polygon",{points:"0,18 -6,6 6,6",class:W(a.name==="l"?"fill-red-600 dark:fill-red-400":a.name==="r"?"fill-blue-600 dark:fill-blue-400":"fill-green-600 dark:fill-green-400")},null,2),i("text",{x:"0",y:"12","text-anchor":"middle",class:W(a.name==="l"?"text-[10px] fill-red-700 dark:fill-red-300":a.name==="r"?"text-[10px] fill-blue-700 dark:fill-blue-300":"text-[10px] fill-green-700 dark:fill-green-300")},q(a.name),3)],8,yt))),128))]))}}),ht=["viewBox"],bt={key:0},xt={key:1},_t={key:2},wt=1e3,kt=440,St=j({__name:"VisualizerCanvas",props:{mode:{},state:{},steps:{},currentIndex:{}},setup(t){return(e,s)=>(w(),k("div",null,[(w(),k("svg",{viewBox:`0 0 ${wt} ${kt}`,class:W(["w-full",e.mode==="array"?"h-64":"h-72"])},[e.mode==="array"?(w(),k("g",bt,[P(tt,{values:e.state.array||[],active:e.state.highlight||[],sorted:e.state.sorted,"aria-label":"배열 시각화"},null,8,["values","active","sorted"]),P(gt,{n:e.state.array&&e.state.array.length||0,highlights:e.state.highlight||[],highlightRange:e.state.highlightRange||null,pivotIndex:e.state.pivotIndex??null,pointers:e.state.pointers||[],values:e.state.array||[]},null,8,["n","highlights","highlightRange","pivotIndex","pointers","values"])])):e.mode==="graph"?(w(),k("g",xt,[P(it,{nodes:e.state.nodes||[],edges:e.state.edges||[],"active-nodes":e.state.activeNodes||[],"aria-label":"그래프 시각화","show-weights":!0},null,8,["nodes","edges","active-nodes"])])):(w(),k("g",_t,[P(ft,{nodes:e.state.nodes||[],edges:e.state.edges||[],"aria-label":"트리 시각화"},null,8,["nodes","edges"])]))],10,ht))]))}}),$t={class:"flex items-center gap-3"},At=["value","aria-valuenow"],Et={class:"text-sm w-14 text-right"},Ot=j({__name:"SpeedSlider",props:{value:{}},emits:["change"],setup(t){return(e,s)=>(w(),k("div",$t,[s[1]||(s[1]=i("label",{for:"speed",class:"text-sm w-20"},"속도",-1)),i("input",{id:"speed",type:"range",min:"0.25",max:"4",step:"0.25",value:e.value,onInput:s[0]||(s[0]=l=>e.$emit("change",Number(l.target.value))),"aria-valuemin":"0.25","aria-valuemax":"4","aria-valuenow":e.value,class:"w-full"},null,40,At),i("span",Et,q(e.value.toFixed(2))+"x",1)]))}}),Nt={class:"flex items-center gap-2"},Tt=["disabled"],It=["disabled"],qt=["disabled"],Lt=["disabled"],Mt={class:"ml-auto text-sm opacity-80","aria-live":"polite"},Rt=j({__name:"PlayerControls",props:{playing:{type:Boolean},canBack:{type:Boolean},canForward:{type:Boolean},index:{},total:{},speed:{}},emits:["toggle","home","back","forward","end","update:speed"],setup(t,{emit:e}){const s=e;function l(a){a.key==="?"||a.shiftKey&&a.key==="/"?a.preventDefault():a.key===" "?(s("toggle"),a.preventDefault()):a.key==="ArrowRight"?(s("forward"),a.preventDefault()):a.key==="ArrowLeft"?(s("back"),a.preventDefault()):a.key==="Home"?(s("home"),a.preventDefault()):a.key==="End"&&(s("end"),a.preventDefault())}return(a,r)=>(w(),k("div",{class:"flex flex-col gap-3",tabindex:"0",onKeydown:l},[i("div",Nt,[i("button",{class:"btn-ghost",disabled:!a.canBack,onClick:r[0]||(r[0]=u=>a.$emit("home")),"aria-label":"처음으로 (Home)"},"처음",8,Tt),i("button",{class:"btn-ghost",disabled:!a.canBack,onClick:r[1]||(r[1]=u=>a.$emit("back")),"aria-label":"이전 (←)"},"←",8,It),i("button",{class:"btn-primary",onClick:r[2]||(r[2]=u=>a.$emit("toggle")),"aria-label":"재생/일시정지 (Space)"},q(a.playing?"일시정지":"재생"),1),i("button",{class:"btn-ghost",disabled:!a.canForward,onClick:r[3]||(r[3]=u=>a.$emit("forward")),"aria-label":"다음 (→)"},"→",8,qt),i("button",{class:"btn-ghost",disabled:!a.canForward,onClick:r[4]||(r[4]=u=>a.$emit("end")),"aria-label":"끝으로 (End)"},"끝",8,Lt),i("div",Mt,q(a.index)+" / "+q(a.total)+" step",1)]),P(Ot,{value:a.speed,onChange:r[5]||(r[5]=u=>a.$emit("update:speed",u))},null,8,["value"])],32))}});function Dt(){async function t(e){try{return await navigator.clipboard.writeText(e),!0}catch{const s=document.createElement("textarea");return s.value=e,s.style.position="fixed",s.style.left="-9999px",document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),!0}}return{copyText:t}}function Ct(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $e={exports:{}};(function(t){var e=function(){var s=String.fromCharCode,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function u(n,o){if(!r[n]){r[n]={};for(var p=0;p<n.length;p++)r[n][n.charAt(p)]=p}return r[n][o]}var c={compressToBase64:function(n){if(n==null)return"";var o=c._compress(n,6,function(p){return l.charAt(p)});switch(o.length%4){default:case 0:return o;case 1:return o+"===";case 2:return o+"==";case 3:return o+"="}},decompressFromBase64:function(n){return n==null?"":n==""?null:c._decompress(n.length,32,function(o){return u(l,n.charAt(o))})},compressToUTF16:function(n){return n==null?"":c._compress(n,15,function(o){return s(o+32)})+" "},decompressFromUTF16:function(n){return n==null?"":n==""?null:c._decompress(n.length,16384,function(o){return n.charCodeAt(o)-32})},compressToUint8Array:function(n){for(var o=c.compress(n),p=new Uint8Array(o.length*2),f=0,y=o.length;f<y;f++){var E=o.charCodeAt(f);p[f*2]=E>>>8,p[f*2+1]=E%256}return p},decompressFromUint8Array:function(n){if(n==null)return c.decompress(n);for(var o=new Array(n.length/2),p=0,f=o.length;p<f;p++)o[p]=n[p*2]*256+n[p*2+1];var y=[];return o.forEach(function(E){y.push(s(E))}),c.decompress(y.join(""))},compressToEncodedURIComponent:function(n){return n==null?"":c._compress(n,6,function(o){return a.charAt(o)})},decompressFromEncodedURIComponent:function(n){return n==null?"":n==""?null:(n=n.replace(/ /g,"+"),c._decompress(n.length,32,function(o){return u(a,n.charAt(o))}))},compress:function(n){return c._compress(n,16,function(o){return s(o)})},_compress:function(n,o,p){if(n==null)return"";var f,y,E={},T={},I="",M="",N="",_=2,m=3,g=2,A=[],d=0,h=0,b;for(b=0;b<n.length;b+=1)if(I=n.charAt(b),Object.prototype.hasOwnProperty.call(E,I)||(E[I]=m++,T[I]=!0),M=N+I,Object.prototype.hasOwnProperty.call(E,M))N=M;else{if(Object.prototype.hasOwnProperty.call(T,N)){if(N.charCodeAt(0)<256){for(f=0;f<g;f++)d=d<<1,h==o-1?(h=0,A.push(p(d)),d=0):h++;for(y=N.charCodeAt(0),f=0;f<8;f++)d=d<<1|y&1,h==o-1?(h=0,A.push(p(d)),d=0):h++,y=y>>1}else{for(y=1,f=0;f<g;f++)d=d<<1|y,h==o-1?(h=0,A.push(p(d)),d=0):h++,y=0;for(y=N.charCodeAt(0),f=0;f<16;f++)d=d<<1|y&1,h==o-1?(h=0,A.push(p(d)),d=0):h++,y=y>>1}_--,_==0&&(_=Math.pow(2,g),g++),delete T[N]}else for(y=E[N],f=0;f<g;f++)d=d<<1|y&1,h==o-1?(h=0,A.push(p(d)),d=0):h++,y=y>>1;_--,_==0&&(_=Math.pow(2,g),g++),E[M]=m++,N=String(I)}if(N!==""){if(Object.prototype.hasOwnProperty.call(T,N)){if(N.charCodeAt(0)<256){for(f=0;f<g;f++)d=d<<1,h==o-1?(h=0,A.push(p(d)),d=0):h++;for(y=N.charCodeAt(0),f=0;f<8;f++)d=d<<1|y&1,h==o-1?(h=0,A.push(p(d)),d=0):h++,y=y>>1}else{for(y=1,f=0;f<g;f++)d=d<<1|y,h==o-1?(h=0,A.push(p(d)),d=0):h++,y=0;for(y=N.charCodeAt(0),f=0;f<16;f++)d=d<<1|y&1,h==o-1?(h=0,A.push(p(d)),d=0):h++,y=y>>1}_--,_==0&&(_=Math.pow(2,g),g++),delete T[N]}else for(y=E[N],f=0;f<g;f++)d=d<<1|y&1,h==o-1?(h=0,A.push(p(d)),d=0):h++,y=y>>1;_--,_==0&&(_=Math.pow(2,g),g++)}for(y=2,f=0;f<g;f++)d=d<<1|y&1,h==o-1?(h=0,A.push(p(d)),d=0):h++,y=y>>1;for(;;)if(d=d<<1,h==o-1){A.push(p(d));break}else h++;return A.join("")},decompress:function(n){return n==null?"":n==""?null:c._decompress(n.length,32768,function(o){return n.charCodeAt(o)})},_decompress:function(n,o,p){var f=[],y=4,E=4,T=3,I="",M=[],N,_,m,g,A,d,h,b={val:p(0),position:o,index:1};for(N=0;N<3;N+=1)f[N]=N;for(m=0,A=Math.pow(2,2),d=1;d!=A;)g=b.val&b.position,b.position>>=1,b.position==0&&(b.position=o,b.val=p(b.index++)),m|=(g>0?1:0)*d,d<<=1;switch(m){case 0:for(m=0,A=Math.pow(2,8),d=1;d!=A;)g=b.val&b.position,b.position>>=1,b.position==0&&(b.position=o,b.val=p(b.index++)),m|=(g>0?1:0)*d,d<<=1;h=s(m);break;case 1:for(m=0,A=Math.pow(2,16),d=1;d!=A;)g=b.val&b.position,b.position>>=1,b.position==0&&(b.position=o,b.val=p(b.index++)),m|=(g>0?1:0)*d,d<<=1;h=s(m);break;case 2:return""}for(f[3]=h,_=h,M.push(h);;){if(b.index>n)return"";for(m=0,A=Math.pow(2,T),d=1;d!=A;)g=b.val&b.position,b.position>>=1,b.position==0&&(b.position=o,b.val=p(b.index++)),m|=(g>0?1:0)*d,d<<=1;switch(h=m){case 0:for(m=0,A=Math.pow(2,8),d=1;d!=A;)g=b.val&b.position,b.position>>=1,b.position==0&&(b.position=o,b.val=p(b.index++)),m|=(g>0?1:0)*d,d<<=1;f[E++]=s(m),h=E-1,y--;break;case 1:for(m=0,A=Math.pow(2,16),d=1;d!=A;)g=b.val&b.position,b.position>>=1,b.position==0&&(b.position=o,b.val=p(b.index++)),m|=(g>0?1:0)*d,d<<=1;f[E++]=s(m),h=E-1,y--;break;case 2:return M.join("")}if(y==0&&(y=Math.pow(2,T),T++),f[h])I=f[h];else if(h===E)I=_+_.charAt(0);else return null;M.push(I),f[E++]=_+I.charAt(0),y--,_=I,y==0&&(y=Math.pow(2,T),T++)}}};return c}();t!=null?t.exports=e:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return e})})($e);var jt=$e.exports;const Ae=Ct(jt),Bt=t=>Ae.compressToEncodedURIComponent(t),Ft=t=>{try{return Ae.decompressFromEncodedURIComponent(t)||null}catch{return null}},Ee=t=>Bt(JSON.stringify(t)),Pt=t=>{const e=Ft(t);if(!e)return null;try{return JSON.parse(e)}catch{return null}},zt=j({__name:"ShareLinkButton",props:{algo:{},input:{},speed:{}},emits:["copied"],setup(t,{emit:e}){const s=t,l=e,{copyText:a}=Dt();function r(){const u=new URL(location.href);u.searchParams.set("algo",s.algo);const c=Ee({input:s.input,speed:s.speed});u.searchParams.set("s",c),a(u.toString()),l("copied")}return(u,c)=>(w(),k("button",{class:"btn-ghost",onClick:r,"aria-label":"공유 링크 복사"},"공유 링크"))}}),Ut=["aria-current"],Jt={class:"text-right tabular-nums select-none opacity-60"},Vt=j({__name:"PseudocodePanel",props:{lines:{},highlight:{}},setup(t){const e=t,s=L(null),l=L({});function a(u,c){l.value[u+1]=c}function r(u){return e.highlight.includes(u)?"bg-yellow-200/50 dark:bg-yellow-400/20":""}return K(()=>e.highlight.slice(),async u=>{await Me();const c=u[0];if(!c)return;const n=s.value,o=l.value[c];if(!n||!o)return;const p=n.scrollTop,f=p+n.clientHeight,y=o.offsetTop-8,E=y+o.clientHeight+8;if(y<p||E>f){const T=y-n.clientHeight/3;typeof n.scrollTo=="function"?n.scrollTo({top:T,behavior:"smooth"}):n.scrollTop=T}},{immediate:!0}),(u,c)=>(w(),k("div",null,[c[0]||(c[0]=i("div",{class:"mb-2"},[i("h3",{class:"font-semibold"},"의사코드(Pseudocode)")],-1)),i("div",{ref_key:"preEl",ref:s,class:"bg-black/5 dark:bg-white/10 rounded-2xl p-3 text-sm overflow-auto font-mono",role:"list"},[(w(!0),k(H,null,G(u.lines,(n,o)=>(w(),k("div",{key:o,class:"grid grid-cols-[2.5ch,1fr] gap-3 items-start py-0.5",role:"listitem","aria-current":u.highlight.includes(o+1)?"true":void 0,ref_for:!0,ref:p=>a(o,p)},[i("span",Jt,q((o+1).toString().padStart(2," ")),1),i("span",{class:W(["whitespace-pre rounded px-1",r(o+1)])},q(n),3)],8,Ut))),128))],512)]))}}),Kt={class:"grid grid-cols-3 md:grid-cols-6 gap-2 text-center"},Ht={class:"card p-3"},Gt={class:"text-lg font-bold"},Wt={class:"card p-3"},Zt={class:"text-lg font-bold"},Yt={class:"card p-3"},Xt={class:"text-lg font-bold"},Qt={class:"card p-3"},es={class:"text-lg font-bold"},ts={class:"card p-3"},ss={class:"text-lg font-bold"},ns={class:"card p-3"},rs={class:"text-lg font-bold"},os={class:"mt-3"},as={class:"mt-3"},is=j({__name:"MetricsPanel",props:{metrics:{},timeline:{}},setup(t){Re([De,Ce,je,Be,Fe,Pe]);const e=t,s=()=>window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,l=D(()=>{const r=["비교","스왑","방문","이완","Enq","Deq"],u=[e.metrics.compares??0,e.metrics.swaps??0,e.metrics.visits??0,e.metrics.relaxes??0,e.metrics.enqueues??0,e.metrics.dequeues??0];return{darkMode:s(),grid:{left:24,right:12,top:16,bottom:24},tooltip:{trigger:"axis"},xAxis:{type:"category",data:r,axisLabel:{color:s()?"#e5e7eb":"#374151"}},yAxis:{type:"value",show:!1},series:[{type:"bar",data:u,itemStyle:{color:s()?"#60a5fa":"#3b82f6"},barWidth:"50%"}]}}),a=D(()=>{const r=e.timeline??[],u=r.map((n,o)=>o),c=n=>r.map(o=>Number(o[n]??0));return{darkMode:s(),grid:{left:24,right:12,top:16,bottom:16},tooltip:{trigger:"axis"},legend:{data:["비교","스왑","방문","이완","Enq","Deq"],top:0,textStyle:{color:s()?"#e5e7eb":"#374151"}},xAxis:{type:"category",show:!1,data:u},yAxis:{type:"value",show:!1},series:[{name:"비교",type:"line",smooth:!0,showSymbol:!1,data:c("compares")},{name:"스왑",type:"line",smooth:!0,showSymbol:!1,data:c("swaps")},{name:"방문",type:"line",smooth:!0,showSymbol:!1,data:c("visits")},{name:"이완",type:"line",smooth:!0,showSymbol:!1,data:c("relaxes")},{name:"Enq",type:"line",smooth:!0,showSymbol:!1,data:c("enqueues")},{name:"Deq",type:"line",smooth:!0,showSymbol:!1,data:c("dequeues")}]}});return(r,u)=>(w(),k("div",null,[u[6]||(u[6]=i("h3",{class:"font-semibold mb-2"},"지표",-1)),i("div",Kt,[i("div",Ht,[u[0]||(u[0]=i("div",{class:"text-xs opacity-70"},"비교",-1)),i("div",Gt,q(r.metrics.compares??0),1)]),i("div",Wt,[u[1]||(u[1]=i("div",{class:"text-xs opacity-70"},"스왑",-1)),i("div",Zt,q(r.metrics.swaps??0),1)]),i("div",Yt,[u[2]||(u[2]=i("div",{class:"text-xs opacity-70"},"방문",-1)),i("div",Xt,q(r.metrics.visits??0),1)]),i("div",Qt,[u[3]||(u[3]=i("div",{class:"text-xs opacity-70"},"이완",-1)),i("div",es,q(r.metrics.relaxes??0),1)]),i("div",ts,[u[4]||(u[4]=i("div",{class:"text-xs opacity-70"},"Enq",-1)),i("div",ss,q(r.metrics.enqueues??0),1)]),i("div",ns,[u[5]||(u[5]=i("div",{class:"text-xs opacity-70"},"Deq",-1)),i("div",rs,q(r.metrics.dequeues??0),1)])]),i("div",os,[P(F(be),{class:"h-32",option:l.value,autoresize:""},null,8,["option"])]),i("div",as,[P(F(be),{class:"h-24",option:a.value,autoresize:""},null,8,["option"])])]))}}),ls={class:"space-y-2"},us={class:"text-sm"},cs={class:"flex gap-2"},ds={class:"mt-2"},ps={class:"font-medium"},fs={class:"text-xs opacity-70"},ms=j({__name:"InspectorPanel",props:{pc:{},explain:{},meta:{}},setup(t){return(e,s)=>(w(),k("div",ls,[s[6]||(s[6]=i("h3",{class:"font-semibold"},"인스펙터",-1)),i("div",us,[i("div",null,[s[0]||(s[0]=i("span",{class:"opacity-70"},"알고리즘:",-1)),te(" "+q(e.meta?.title),1)]),i("div",cs,[i("div",null,[s[1]||(s[1]=i("span",{class:"opacity-70"},"Best:",-1)),te(" "+q(e.meta?.complexity.best),1)]),i("div",null,[s[2]||(s[2]=i("span",{class:"opacity-70"},"Avg:",-1)),te(" "+q(e.meta?.complexity.average),1)]),i("div",null,[s[3]||(s[3]=i("span",{class:"opacity-70"},"Worst:",-1)),te(" "+q(e.meta?.complexity.worst),1)]),i("div",null,[s[4]||(s[4]=i("span",{class:"opacity-70"},"Space:",-1)),te(" "+q(e.meta?.complexity.space),1)])]),i("div",ds,[s[5]||(s[5]=i("div",{class:"opacity-70"},"현재 스텝",-1)),i("div",ps,q(e.explain||"대기 중"),1),i("div",fs,"라인: "+q(e.pc?.join(", ")||"-"),1)])])]))}}),vs={key:0,class:"fixed inset-0 bg-black/40 flex items-center justify-center z-50"},ys={class:"bg-white dark:bg-slate-800 rounded-xl shadow-xl p-4 w-full max-w-md",role:"dialog","aria-modal":"true","aria-label":"단축키 도움말"},gs={class:"flex items-center justify-between mb-2"},hs=j({__name:"KeyboardShortcutsModal",props:{open:{type:Boolean}},emits:["close"],setup(t){return(e,s)=>{const l=ke("trap-focus");return e.open?(w(),k("div",vs,[V((w(),k("div",ys,[i("header",gs,[s[1]||(s[1]=i("h3",{class:"font-semibold"},"단축키",-1)),i("button",{class:"btn-ghost",onClick:s[0]||(s[0]=a=>e.$emit("close")),"aria-label":"닫기"},"×")]),s[2]||(s[2]=ze('<ul class="space-y-1 text-sm" data-v-389400be><li data-v-389400be><b data-v-389400be>Space</b> 재생/일시정지</li><li data-v-389400be><b data-v-389400be>←/→</b> 이전/다음</li><li data-v-389400be><b data-v-389400be>Shift+←/→</b> 5스텝 이동</li><li data-v-389400be><b data-v-389400be>Home/End</b> 처음/끝으로</li><li data-v-389400be><b data-v-389400be>?</b> 도움말 열기</li></ul>',1))])),[[l]])])):Y("",!0)}}}),bs=We(hs,[["__scopeId","data-v-389400be"]]),xs={key:0,class:"fixed inset-0 bg-black flex items-center justify-center z-50"},_s={class:"bg-white dark:bg-slate-800 rounded-xl shadow-xl p-4 w-full max-w-md",role:"dialog","aria-modal":"true","aria-label":"오류 안내"},ws={class:"flex items-center justify-between mb-2"},ks={class:"text-sm whitespace-pre-wrap break-words"},Ss={class:"mt-4 flex justify-end gap-2"},$s=j({__name:"ErrorDialog",props:{open:{type:Boolean},message:{}},emits:["close"],setup(t){return(e,s)=>{const l=ke("trap-focus");return e.open?(w(),k("div",xs,[V((w(),k("div",_s,[i("header",ws,[s[2]||(s[2]=i("h3",{class:"font-semibold"},"오류가 발생했습니다",-1)),i("button",{class:"btn-ghost",onClick:s[0]||(s[0]=a=>e.$emit("close")),"aria-label":"닫기"},"×")]),i("p",ks,q(e.message),1),s[3]||(s[3]=i("div",{class:"mt-3 text-xs opacity-70"}," 입력/설정을 점검한 뒤 다시 시도해 주세요. 문제가 지속되면 새로고침(F5)으로 세션을 복구할 수 있습니다. ",-1)),i("footer",Ss,[i("button",{class:"btn-ghost",onClick:s[1]||(s[1]=a=>e.$emit("close"))},"닫기")])])),[[l]])])):Y("",!0)}}}),As=oe("inputs",{state:()=>({array:[5,3,8,1,4],key:7,graphText:`0:1,2
1:2,3
2:3
3:
`,seq:[8,3,10,1,6,14]}),actions:{loadSample(t){({sorting:()=>{this.array=[5,3,8,1,4,2,7]},searching:()=>{this.array=[1,3,4,5,7,8,10],this.key=7},graph:()=>{this.graphText=`0:1,2
1:2,3
2:3
3:
`},tree:()=>{this.seq=[8,3,10,1,6,14]}})[t]?.()}}}),Es=["aria-invalid"],Os={key:0,class:"space-y-1"},Ns=["aria-invalid"],Ts={class:"text-sm text-red-600 h-4",role:"alert"},Is={class:"text-sm text-red-600 h-4",role:"alert"},qs={key:1,class:"mt-2 p-3 rounded border border-amber-400 bg-amber-50 text-amber-900","aria-live":"polite"},Ls={class:"flex flex-wrap gap-2"},Ms=j({__name:"DataInputForm",props:{initial:{},requireKey:{type:Boolean},initialKey:{}},emits:["submit"],setup(t,{emit:e}){const s=As(),l=t,a=e,r=L(""),u=L(null),c=L([]),n=L(""),o=L(null),p=L(!1),f=D(()=>l.requireKey===!0);function y(_){return _.trim()?_.split(",").map(m=>m.trim()).filter(m=>m.length>0).map(m=>Number(m)).filter(m=>m===0||Number.isFinite(m)):[]}function E(_){for(let m=1;m<_.length;m++)if(_[m-1]>_[m])return!1;return!0}function T(_,m){c.value=Array.isArray(_)?_.slice():[],r.value=c.value.join(","),u.value=null,f.value&&(typeof m=="number"&&Number.isFinite(m)?n.value=String(m):n.value="",o.value=null)}Q(()=>{T(l.initial??[],l.initialKey)}),K(()=>l.initial,_=>{T(_??[],l.initialKey)},{deep:!0}),K(()=>l.initialKey,_=>{f.value&&T(l.initial??[],_)}),K(r,_=>{const m=y(_);c.value=m;const A=_.split(",").map(d=>d.trim()).filter(d=>d.length>0).some(d=>{const h=Number(d);return!(d==="0"||Number.isFinite(h))});u.value=A?"입력 형식이 올바르지 않습니다.":null});function I(){const m=Array.from({length:20},()=>Math.floor(Math.random()*100)+1),g=f.value?m.slice().sort((A,d)=>A-d):m;if(r.value=g.join(","),p.value=!1,u.value=null,f.value&&g.length>0){const A=g[Math.floor(Math.random()*g.length)];n.value=String(A),o.value=null}}function M(){if(u.value)return;if(!Array.isArray(c.value)||c.value.length===0){u.value="배열을 입력하세요.";return}let _;if(f.value){const m=String(n.value??"").trim();if(m===""){o.value="타깃 값을 입력하세요.";return}const g=Number(m);if(!Number.isFinite(g)){o.value="타깃 값은 숫자여야 합니다.";return}if(o.value=null,_=g,!E(c.value)){p.value=!0;return}}s.array=c.value.slice(),f.value&&typeof _=="number"&&(s.key=_),f.value?a("submit",{array:c.value.slice(),key:_,action:"normal"}):a("submit",c.value.slice())}function N(){p.value=!1;const _=c.value.slice().sort((A,d)=>A-d),m=String(n.value??"").trim(),g=Number(m);s.array=_.slice(),f.value&&Number.isFinite(g)&&(s.key=g),a("submit",{array:_,key:Number.isFinite(g)?g:void 0,action:"autoSort"})}return(_,m)=>(w(),k("form",{class:"space-y-2",onSubmit:Se(M,["prevent"]),"aria-label":"데이터 입력 폼"},[m[6]||(m[6]=i("label",{for:"array-textarea",class:"block text-sm"},"배열(쉼표 구분)",-1)),V(i("textarea",{id:"array-textarea",name:"array","onUpdate:modelValue":m[0]||(m[0]=g=>r.value=g),rows:"3",class:"w-full rounded border p-2 text-black","aria-invalid":u.value?"true":"false","aria-label":"숫자 배열 입력",placeholder:"예: 10,3,7,2,5,8"},null,8,Es),[[Z,r.value]]),f.value?(w(),k("div",Os,[m[3]||(m[3]=i("label",{for:"target-input",class:"block text-sm"},"타깃 값(필수)",-1)),V(i("input",{id:"target-input",name:"key","onUpdate:modelValue":m[1]||(m[1]=g=>n.value=g),type:"number",inputmode:"numeric",class:"w-full rounded border p-2 text-black","aria-invalid":o.value?"true":"false","aria-label":"타깃 숫자 입력",placeholder:"예: 7"},null,8,Ns),[[Z,n.value]]),i("div",Ts,q(o.value),1)])):Y("",!0),i("div",Is,q(u.value),1),i("div",{class:"flex gap-2"},[i("button",{type:"button",class:"btn-ghost",onClick:I,"aria-label":"랜덤 생성"},"랜덤"),m[4]||(m[4]=i("button",{type:"submit",class:"btn-primary","aria-label":"입력 적용"},"적용",-1))]),p.value?(w(),k("div",qs,[m[5]||(m[5]=i("p",{class:"text-sm mb-2"},"이진 탐색은 오름차순으로 정렬된 배열이 필요합니다. 자동으로 정렬하여 적용할까요?",-1)),i("div",Ls,[i("button",{type:"button",class:"btn-primary",onClick:N},"자동으로 정렬하여 적용"),i("button",{type:"button",class:"btn",onClick:m[2]||(m[2]=g=>p.value=!1)},"취소")])])):Y("",!0)],32))}});function Rs(t,e,s=!1){const l=Array.from({length:e},()=>Array(e).fill(s?1/0:0));for(const[a,r]of Object.entries(t)){const u=Number(a);for(const{v:c,w:n}of r)l[u][c]=s?n??1:1}return l}function Ds(t,e=!1){const s={};for(let l=0;l<t.length;l++){s[l]=[];for(let a=0;a<t.length;a++){const r=t[l][a];(e?Number.isFinite(r)&&r>0:r>0)&&s[l].push({v:a,w:e?r:1})}}return s}const Cs={class:"flex gap-2 mb-2"},js={key:0,class:"space-y-2"},Bs={key:1,class:"space-y-2"},Fs={class:"mt-2 flex gap-2"},Ps=j({__name:"GraphEditorTabs",props:{n:{},list:{},matrix:{},weighted:{type:Boolean}},emits:["submit"],setup(t){const e=t,s=L("list"),l=L(JSON.stringify(e.list??{0:[{v:1}]},null,2)),a=L(JSON.stringify(e.matrix??[[0,1],[0,0]],null,2));let r=e.list??{0:[{v:1}]},u=e.matrix??[[0,1],[0,0]];function c(){try{s.value==="list"?(r=JSON.parse(l.value),u=Rs(r,e.n,!!e.weighted),a.value=JSON.stringify(u,null,2)):(u=JSON.parse(a.value),r=Ds(u,!!e.weighted),l.value=JSON.stringify(r,null,2))}catch{}}return(n,o)=>(w(),k("div",null,[i("div",Cs,[i("button",{class:W(["btn-ghost",{"btn-primary":s.value==="list"}]),onClick:o[0]||(o[0]=p=>s.value="list")},"인접 리스트",2),i("button",{class:W(["btn-ghost",{"btn-primary":s.value==="matrix"}]),onClick:o[1]||(o[1]=p=>s.value="matrix")},"인접 행렬",2)]),s.value==="list"?(w(),k("div",js,[o[5]||(o[5]=i("label",{class:"block text-sm"},"인접 리스트(JSON)",-1)),V(i("textarea",{"onUpdate:modelValue":o[2]||(o[2]=p=>l.value=p),rows:"6",class:"w-full rounded border p-2 text-black"},null,512),[[Z,l.value]])])):(w(),k("div",Bs,[o[6]||(o[6]=i("label",{class:"block text-sm"},"인접 행렬(JSON)",-1)),V(i("textarea",{"onUpdate:modelValue":o[3]||(o[3]=p=>a.value=p),rows:"6",class:"w-full rounded border p-2 text-black"},null,512),[[Z,a.value]])])),i("div",Fs,[i("button",{class:"btn-ghost",onClick:c},"변환"),i("button",{class:"btn-primary",onClick:o[4]||(o[4]=p=>n.$emit("submit",{list:F(r),matrix:F(u)}))},"적용")])]))}}),zs={class:"grid grid-cols-2 gap-2"},Us=j({__name:"TreeInputForm",props:{initial:{}},emits:["submit"],setup(t,{emit:e}){const s=t,l=e,a=L((s.initial??[]).join(",")),r=D(()=>a.value.split(",").map(n=>Number(n.trim())).filter(n=>n===0||Number.isFinite(n))),u=L(void 0),c=L(void 0);return(n,o)=>(w(),k("form",{class:"space-y-2",onSubmit:o[3]||(o[3]=Se(p=>l("submit",{keys:r.value.value,search:u.value?.value,remove:c.value?.value}),["prevent"]))},[o[6]||(o[6]=i("label",{class:"block text-sm"},"키 목록(쉼표 구분)",-1)),V(i("input",{"onUpdate:modelValue":o[0]||(o[0]=p=>a.value=p),class:"w-full rounded border p-2 text-black"},null,512),[[Z,a.value]]),i("div",zs,[i("div",null,[o[4]||(o[4]=i("label",{class:"block text-sm"},"검색 키",-1)),V(i("input",{"onUpdate:modelValue":o[1]||(o[1]=p=>u.value=p),type:"number",class:"w-full rounded border p-2 text-black"},null,512),[[Z,u.value,void 0,{number:!0}]])]),i("div",null,[o[5]||(o[5]=i("label",{class:"block text-sm"},"삭제 키",-1)),V(i("input",{"onUpdate:modelValue":o[2]||(o[2]=p=>c.value=p),type:"number",class:"w-full rounded border p-2 text-black"},null,512),[[Z,c.value,void 0,{number:!0}]])])]),o[7]||(o[7]=i("button",{class:"btn-primary",type:"submit"},"적용",-1))],32))}}),ne={steps:0,compares:0,swaps:0,visits:0,relaxes:0,enqueues:0,dequeues:0},se=t=>{try{const l=globalThis.structuredClone;if(typeof l=="function")return l(t)}catch{}const e=new WeakMap,s=l=>{if(l===null||typeof l!="object")return l;if(e.has(l))return e.get(l);if(l instanceof Date)return new Date(l.getTime());if(l instanceof Set){const r=new Set;return e.set(l,r),l.forEach(u=>r.add(s(u))),r}if(l instanceof Map){const r=new Map;return e.set(l,r),l.forEach((u,c)=>r.set(s(c),s(u))),r}if(Array.isArray(l)){const r=[];e.set(l,r);for(let u=0;u<l.length;u++)r[u]=s(l[u]);return r}const a={};e.set(l,a);for(const r of Object.keys(l))a[r]=s(l[r]);return a};return s(t)};function Js(t){const e=t.fps,s=t.snapshotStrategy??"full",l=t.steps,a=L(1),r=L(0),u=L(!1),c=D(()=>r.value>=l.length),n=L({...ne}),o=[];s==="full"&&(o[0]=se(t.initialState));const p={beforeStep:new Set,afterStep:new Set,done:new Set},f=(O,$)=>p[O].forEach(R=>R($)),y=(O,$)=>(p[O].add($),()=>p[O].delete($));let E=null,T=0;function I(){c.value||u.value||(u.value=!0,T=performance.now(),re())}function M(){u.value=!1,E!=null&&cancelAnimationFrame(E),E=null}function N(){M(),r.value=0,n.value={...ne},s==="full"&&(o.length=0,o[0]=se(t.initialState))}function _(O){a.value=Math.min(4,Math.max(.25,O))}function m(O){const $={...ne,steps:1};switch(O.type){case"compare":$.compares=1;break;case"swap":$.swaps=1;break;case"visit":$.visits=1;break;case"relax":$.relaxes=1;break;case"enqueue":$.enqueues=1;break;case"dequeue":$.dequeues=1;break}return $}function g(O,$=1){n.value.steps+=$*O.steps,O.compares&&(n.value.compares=(n.value.compares||0)+$*(O.compares||0)),O.swaps&&(n.value.swaps=(n.value.swaps||0)+$*(O.swaps||0)),O.visits&&(n.value.visits=(n.value.visits||0)+$*(O.visits||0)),O.relaxes&&(n.value.relaxes=(n.value.relaxes||0)+$*(O.relaxes||0)),O.enqueues&&(n.value.enqueues=(n.value.enqueues||0)+$*(O.enqueues||0)),O.dequeues&&(n.value.dequeues=(n.value.dequeues||0)+$*(O.dequeues||0))}function A(O=1){for(let $=0;$<O&&!c.value;$++){const R=r.value,B=l[R];f("beforeStep",{index:R,step:B}),t.interpreter?.apply?.(t.initialState,B);const U=m(B);if(g(U),s==="full"&&(o[R+1]=se(t.initialState)),r.value=R+1,f("afterStep",{index:R,step:B}),r.value>=l.length){f("done",{index:r.value-1,step:{type:"done",payload:null,pc:[],explain:"완료"}}),M();break}}}function d(O=1){if(s!=="none")for(let $=0;$<O&&!(r.value<=0);$++){const R=r.value-1,B=l[R];if(s==="diff")t.interpreter?.revert?.(t.initialState,B);else if(s==="full"){const X=o[R];if(X!=null){const ae=se(X);Object.keys(t.initialState).forEach(ie=>delete t.initialState[ie]),Object.assign(t.initialState,ae)}}r.value=R;const U=m(B);g(U,-1)}}function h(O){n.value={...ne};for(let $=0;$<O;$++){const R=m(l[$]);g(R)}}function b(O){const $=Math.max(0,Math.min(l.length,O));if($===r.value)return;if(s==="full"&&o[$]){const B=se(o[$]);Object.keys(t.initialState).forEach(U=>delete t.initialState[U]),Object.assign(t.initialState,B),r.value=$,h($);return}const R=$-r.value;R>0?A(R):d(-R)}function re(){const O=()=>{if(!u.value)return;const $=performance.now(),R=r.value,B=1e3/e,X=(l[R]?.t??B)/a.value;$-T>=X&&(T=$,A(1),c.value)||(E=requestAnimationFrame(O))};E=requestAnimationFrame(O)}return{speed:a,index:r,playing:u,done:c,play:I,pause:M,reset:N,stepForward:A,stepBack:d,setSpeed:_,jumpTo:b,on:y}}function Vs(){const t=L(null);Q(()=>{const s=document.createElement("div");s.setAttribute("aria-live","polite"),s.setAttribute("aria-atomic","true"),s.className="sr-only",document.body.appendChild(s),t.value=s}),pe(()=>{t.value&&t.value.parentElement&&t.value.parentElement.removeChild(t.value)});function e(s){t.value&&(t.value.textContent=s)}return{announce:e}}const Oe=oe("global",{state:()=>({algoId:"sorting/quick",theme:"light",preset:"A",speed:1,shareUrl:"",workerEnabled:!0}),persist:{key:"av-global"}});function Ks(t){const e=Oe?.(),s=t?.bigArray,l=t?.bigNodes;function a(c){const n=Array.isArray(c?.array)?c.array.length:0,o=Number(c?.n??0);return n>=s||o>=l}function r(c,n){return new Promise((o,p)=>{const f=new Worker(new URL("/Algo/assets/steps-worker-DorUczmh.js",import.meta.url),{type:"module"}),y=T=>{const I=T.data;I?.type==="result"&&I.id===c?(E(),o(I.steps)):I?.type==="error"&&I.id===c&&(E(),p(new Error(I.message||"worker error")))},E=()=>{f.removeEventListener("message",y),f.terminate()};f.addEventListener("message",y),f.postMessage({type:"generate",id:c,input:n})})}return{generate:async(c,n,o)=>{if(!!e?.workerEnabled&&a(n))try{return await r(c,n)}catch{}return Promise.resolve(o())}}}function Hs(t){const e=Ks({bigArray:5e3,bigNodes:1e3});async function s(){const l=t.currentModule.value,a=t.currentMeta.value;if(!l||!a)return;const u=(a.normalizeInput??(c=>c))(JSON.parse(JSON.stringify(t.input)));(a.category==="sorting"||a.category==="searching")&&(t.state.array=Array.isArray(u.array)?u.array.slice():[]),t.state.highlight=[],t.state.sorted=new Set,t.state.highlightRange=null,t.state.pivotIndex=null,t.state.pointers=[],t.state.found=null;try{const c=await e.generate(l.descriptor.id,u,()=>l.stepsOf(u)),n=Array.isArray(c)?c:[];t.steps.value.splice(0,t.steps.value.length,...n)}catch{t.steps.value.splice(0,t.steps.value.length)}t.metrics.steps=0,t.metrics.compares=0,t.metrics.swaps=0,t.metrics.visits=0,t.metrics.relaxes=0,t.metrics.enqueues=0,t.metrics.dequeues=0,t.metricsTimeline.value=[],t.pc.value=[],t.explain.value="",t.session.pc=t.pc.value,t.session.explain=t.explain.value;try{t.reset(),t.jumpTo(0)}catch{}}return{buildAndLoadSteps:s}}function Gs({togglePlay:t,stepForward:e,stepBack:s,jumpTo:l,steps:a}){const r=L(!1);function u(c){if(c.key==="?"){r.value=!0,c.preventDefault();return}if(c.key===" "){t(),c.preventDefault();return}if(c.key==="ArrowRight"){c.shiftKey?e(5):e(1),c.preventDefault();return}if(c.key==="ArrowLeft"){c.shiftKey?s(5):s(1),c.preventDefault();return}if(c.key==="Home"){l(0),c.preventDefault();return}if(c.key==="End"){l(a.value.length),c.preventDefault();return}}return Q(()=>window.addEventListener("keydown",u)),pe(()=>window.removeEventListener("keydown",u)),{shortcutsOpen:r}}function Ne(t){const e=t.query.algo??"sorting/quick",s=t.query.s;let l=null;s&&(l=Pt(s));const a=l?.input??t.query.input;let r=Number(l?.speed??t.query.speed??1);return Number.isFinite(r)||(r=1),{algo:e,input:a,speed:r}}function Ws(t,e,s){const a={...Ne(e),...s},r=Ee({input:a.input,speed:a.speed});t.replace({query:{algo:a.algo,s:r}})}function Zs(){const t=Ue(),e=Je(),s=D(()=>Ne(t));function l(a){Ws(e,t,a)}return{state:s,patch:l}}function Ys({selectedId:t,input:e,speed:s,currentMeta:l,buildAndLoadSteps:a,urlState:r,patch:u,patchSelected:c}){K(t,n=>{c(n);const o=JSON.parse(JSON.stringify(e));u({algo:n,input:o,speed:s.value})}),K(()=>r.value.algo,n=>{n&&n!==t.value&&(t.value=n)},{immediate:!0}),K(()=>r.value.input,n=>{if(!n)return;const p=(l.value?.normalizeInput??(f=>f))(n);Object.keys(e).forEach(f=>delete e[f]),Object.assign(e,JSON.parse(JSON.stringify(p))),a()},{deep:!0}),Q(()=>{const n=r.value.input;if(!n)return;const p=(l.value?.normalizeInput??(f=>f))(n);Object.keys(e).forEach(f=>delete e[f]),Object.assign(e,JSON.parse(JSON.stringify(p))),a()}),K(()=>l.value,n=>{if(!n)return;const o=n.defaultInput;Object.keys(e).forEach(p=>delete e[p]),Object.assign(e,JSON.parse(JSON.stringify(o))),u({algo:t.value,input:JSON.parse(JSON.stringify(e))}),a()})}function Xs({selectedId:t,input:e,speed:s,currentMeta:l,buildAndLoadSteps:a,setSpeed:r,patchSelected:u}){const{state:c,patch:n}=Zs();Ys({selectedId:t,input:e,speed:s,currentMeta:l,buildAndLoadSteps:a,urlState:c,patch:n,patchSelected:u});function o(p){r(p);const f=JSON.parse(JSON.stringify(e));n({algo:t.value,input:f,speed:p})}return{urlState:c,onSpeedChange:o}}const Qs=/(?:n!|factorial)/,en=/(?:\d+\^n|n\^n)/,tn=/n\^(\d+(?:\.\d+)?)/,sn=/(?:nlogn|n\*logn|nlog\(n\)|n\*log\(n\)|vlogv|elogv|e\*logv|v\*logv)/,nn=/(?:v\+e)/,rn=/(?:\blogn\b|log\(n\))/,on=/(?:\bn\b|\bv\b|\be\b)/,an=/\b1\b/,ln=[{pattern:Qs,score:100},{pattern:en,score:80},{pattern:tn,score:t=>{const e=parseFloat(t[1]);return isFinite(e)?20+e*5:0}},{pattern:sn,score:18},{pattern:nn,score:14},{pattern:rn,score:10},{pattern:on,score:14},{pattern:an,score:1}];function un(t){if(!t||typeof t!="string")return 0;let e=t.toLowerCase().trim();e=e.replace(/\s+/g,""),e=e.replace(/^(?:o|θ|omega|\u0398|\u03a9)\(|\)$/gi,"");for(const s of ln){const l=e.match(s.pattern);if(l)return typeof s.score=="number"?s.score:s.score(l)}return 0}function xe(t){const e=t?.complexity||{},s=e.average??e.worst??e.best;return un(s)}const fe=oe("registry",{state:()=>({modules:new Map}),actions:{register(t){this.modules.set(t.descriptor.id,t)},get(t){return this.modules.get(t)},list(){return Array.from(this.modules.values()).sort((t,e)=>{const s=t.descriptor.category.localeCompare(e.descriptor.category);if(s!==0)return s;const l=xe(t.descriptor),a=xe(e.descriptor);return l!==a?a-l:t.descriptor.title.localeCompare(e.descriptor.title,"ko")})}}}),cn=Object.assign({"./graph/bfs.ts":()=>J(()=>import("./bfs-CrvPtZKe.js"),__vite__mapDeps([0,1,2])),"./graph/dfs.ts":()=>J(()=>import("./dfs-j_r2D6ab.js"),__vite__mapDeps([3,1,2])),"./graph/dijkstra.ts":()=>J(()=>import("./dijkstra-Dff9KY7M.js"),__vite__mapDeps([4,1,2])),"./searching/binary.ts":()=>J(()=>import("./binary-DrxaS04F.js"),__vite__mapDeps([5,2])),"./sorting/bubble.ts":()=>J(()=>import("./bubble-CFH5zSN5.js"),__vite__mapDeps([6,2,7,8])),"./sorting/insertion.ts":()=>J(()=>import("./insertion-Du6BJrbs.js"),__vite__mapDeps([9,2,7])),"./sorting/merge.ts":()=>J(()=>import("./merge-BcIPpIWS.js"),__vite__mapDeps([10,2,7])),"./sorting/quick.ts":()=>J(()=>import("./quick-1I9WEm1W.js"),__vite__mapDeps([11,2,7,8])),"./sorting/selection.ts":()=>J(()=>import("./selection-BfsZd4x9.js"),__vite__mapDeps([12,2,7,8])),"./tree/bst.ts":()=>J(()=>import("./bst-BQ3NEYK0.js"),__vite__mapDeps([13,2]))});let dn=cn,_e=!1;async function pn(){if(_e)return;const t=fe(),e=Object.entries(dn);for(const[s,l]of e)try{const a=await l();if(a&&a.descriptor&&typeof a.stepsOf=="function"){const r={descriptor:a.descriptor,stepsOf:a.stepsOf,snapshotStrategy:a.snapshotStrategy};t.register(r)}else console.warn(`[algorithms/registry] Invalid module shape at ${s}`)}catch(a){console.error(`[algorithms/registry] Failed to load ${s}`,a)}_e=!0}function fn(){return fe().list().map(e=>e.descriptor)}function mn(t){return fe().get(t)}const we=()=>({input:{},steps:[],snapshots:[],metrics:{...ne},pc:[],explain:""}),vn=oe("session",{state:()=>we(),actions:{reset(){Object.assign(this,we())}},persist:{key:"av-session"}}),yn={class:"max-w-7xl mx-auto px-4 py-6"},gn={class:"mb-4 flex items-center gap-2"},hn=["value"],bn={class:"ml-auto"},xn={class:"grid lg:grid-cols-[1fr_360px] gap-6"},_n={class:"space-y-4"},wn={class:"card p-4"},kn={class:"card p-4"},Sn={class:"card p-4"},$n={class:"space-y-4"},An={class:"card p-3"},En={class:"card p-3"},On={class:"card p-3"},In=j({__name:"VisualizerView",setup(t){const e=vn(),s=Oe(),l=L([]),a=L(s.algoId);Q(async()=>{await pn(),l.value=fn(),l.value.forEach(v=>{typeof v.normalizeInput!="function"&&(v.normalizeInput=x=>x)}),l.value.find(v=>v.id===a.value)||(a.value=l.value[0]?.id||"sorting/quick")});const r=D(()=>mn(a.value)),u=D(()=>r.value?.descriptor??null),c=D(()=>r.value?.snapshotStrategy??"full"),n=ue({}),o=D(()=>{const v=u.value?.category;return v==="graph"?Ps:v==="tree"?Us:Ms}),p=D(()=>{const v=u.value?.category;if(v==="graph")return{n:5,list:{},weighted:!0};if(v==="tree")return{initial:Array.isArray(n?.keys)?n.keys:u.value?.defaultInput?.keys??[]};if(u.value?.id==="searching/binary"){const C=Array.isArray(n?.array)?n.array:u.value?.defaultInput?.array??[],z=Number(n?.key),ee=Number.isFinite(z)?z:u.value?.defaultInput?.key;return{initial:C,initialKey:ee,requireKey:!0}}return{initial:Array.isArray(n?.array)?n.array:u.value?.defaultInput?.array??[]}}),f=ue({array:[],highlight:[],sorted:new Set,highlightRange:null,pivotIndex:null,pointers:[],found:null}),y=D(()=>{const v=u.value?.category;return v==="graph"?"graph":v==="tree"?"tree":"array"}),E=L([]),T=L([]),I=L(""),M=ue({steps:0,compares:0,swaps:0,visits:0,relaxes:0,enqueues:0,dequeues:0}),N=L([]),_={apply(v,x){switch(x.type){case"compare":{const{i:S,j:C}=x.payload||{};v.highlight=[S,C].filter(z=>Number.isInteger(z));break}case"swap":{const{i:S,j:C}=x.payload;[v.array[S],v.array[C]]=[v.array[C],v.array[S]],v.highlight=[S,C];break}case"setValue":{const{index:S,value:C}=x.payload;v.array[S]=C;break}case"highlightRange":{v.highlightRange=x.payload;break}case"pivot":{v.pivotIndex=x.payload?.index??x.payload?.i??null;break}case"pointer":{const{name:S,index:C}=x.payload||{};Array.isArray(v.pointers)||(v.pointers=[]);const z=v.pointers.findIndex(ee=>ee.name===S);z>=0?v.pointers[z].index=C:v.pointers.push({name:S,index:C});break}case"relax":{Array.isArray(v._relaxHistory)||(v._relaxHistory=[]),Array.isArray(v.dist)||(v.dist=[]);const{v:S,dist:C}=x.payload||{},z=v.dist[S];v._relaxHistory.push({v:S,prev:z}),v.dist[S]=C;break}case"markSorted":{if(!(v.sorted instanceof Set)||typeof v.sorted?.has!="function"){const S=Array.isArray(v.sorted)?v.sorted:[];v.sorted=new Set(S)}v.sorted.add(x.payload.i);break}case"visit":{const{i:S}=x.payload||{};Number.isInteger(S)&&(v.found=S,v.highlight=[S]);break}}},revert(v,x){if(x.type==="relax"&&Array.isArray(v._relaxHistory)&&v._relaxHistory.length>0){const S=v._relaxHistory.pop();S&&(Array.isArray(v.dist)||(v.dist=[]),v.dist[S.v]=S.prev);return}if(x.type==="markSorted"){if(!(v.sorted instanceof Set)||typeof v.sorted?.has!="function"){const C=Array.isArray(v.sorted)?v.sorted:[];v.sorted=new Set(C)}const S=x.payload?.i;Number.isInteger(S)&&v.sorted.delete(S);return}}},{speed:m,index:g,playing:A,play:d,pause:h,reset:b,stepForward:re,stepBack:O,setSpeed:$,jumpTo:R,on:B}=Js({initialState:f,steps:E.value,fps:2,snapshotStrategy:c.value,interpreter:_});B("beforeStep",()=>{}),B("afterStep",({index:v,step:x})=>{M.steps+=1,x.type==="compare"&&(M.compares+=1),x.type==="swap"&&(M.swaps+=1),x.type==="visit"&&(M.visits+=1),x.type==="relax"&&(M.relaxes+=1),x.type==="enqueue"&&(M.enqueues+=1),x.type==="dequeue"&&(M.dequeues+=1),T.value=x.pc??[],I.value=x.explain??"",e.pc=T.value,e.explain=I.value,N.value.push({...M}),N.value.length>2e3&&N.value.shift(),ye.announce(x.explain||"")}),B("done",()=>{});const{buildAndLoadSteps:U}=Hs({currentModule:r,currentMeta:u,input:n,state:f,steps:E,metrics:M,metricsTimeline:N,pc:T,explain:I,session:e,reset:b,jumpTo:R,selectedId:a,speed:m}),{onSpeedChange:X}=Xs({selectedId:a,input:n,speed:m,currentMeta:u,buildAndLoadSteps:U,setSpeed:$,patchSelected:v=>{s.algoId=v}}),ae=D(()=>c.value!=="none"&&g.value>0),ie=D(()=>g.value<E.value.length);function Te(v){if(!u.value)return;if(Array.isArray(v)){n.array=v.slice(),U();return}const S=Array.isArray(v?.array)?v.array.slice():[],C=Number(v?.key),z=v?.action;n.array=z==="autoSort"?S.slice().sort((ee,Le)=>ee-Le):S,Number.isFinite(C)&&(n.key=C),U()}function me(){A.value?h():d()}K(g,v=>{const x=E.value[v]||null;T.value=x?.pc??[],I.value=x?.explain??""});function Ie(){ye.announce("공유 링크가 복사되었습니다.")}const{shortcutsOpen:ve}=Gs({togglePlay:me,stepForward:re,stepBack:O,jumpTo:R,steps:E}),ye=Vs(),le=L(!1),ge=L(""),he=v=>{const x=v.detail;ge.value=x?.message||"알 수 없는 오류",le.value=!0};Q(()=>window.addEventListener("app-error",he)),pe(()=>window.removeEventListener("app-error",he));const qe=D(()=>u.value?.pseudocode??[]);return(v,x)=>(w(),k("section",yn,[i("div",gn,[x[7]||(x[7]=i("label",{for:"algorithm-select",class:"text-sm"},"알고리즘",-1)),V(i("select",{id:"algorithm-select",name:"algorithm",class:"select","onUpdate:modelValue":x[0]||(x[0]=S=>a.value=S),"aria-label":"알고리즘 선택"},[(w(!0),k(H,null,G(l.value,S=>(w(),k("option",{key:S.id,value:S.id},q(S.title),9,hn))),128))],512),[[Ve,a.value]]),i("div",bn,[P(zt,{algo:a.value,input:n,speed:F(m),onCopied:Ie},null,8,["algo","input","speed"])])]),i("div",xn,[i("div",_n,[i("div",wn,[(w(),Ke(Ge(o.value),He(p.value,{onSubmit:Te}),null,16))]),i("div",kn,[P(St,{mode:y.value,state:f,steps:E.value,currentIndex:F(g)},null,8,["mode","state","steps","currentIndex"])]),i("div",Sn,[P(is,{metrics:M,timeline:N.value},null,8,["metrics","timeline"])])]),i("div",$n,[i("div",An,[P(Rt,{playing:F(A),canBack:ae.value,canForward:ie.value,index:F(g),total:E.value.length,speed:F(m),onToggle:me,onHome:x[1]||(x[1]=S=>F(R)(0)),onBack:x[2]||(x[2]=S=>F(O)()),onForward:x[3]||(x[3]=S=>F(re)()),onEnd:x[4]||(x[4]=S=>F(R)(E.value.length)),"onUpdate:speed":F(X)},null,8,["playing","canBack","canForward","index","total","speed","onUpdate:speed"])]),i("div",En,[P(Vt,{lines:qe.value,highlight:T.value},null,8,["lines","highlight"])]),i("div",On,[P(ms,{pc:T.value,explain:I.value,meta:u.value},null,8,["pc","explain","meta"])])])]),P(bs,{open:F(ve),onClose:x[5]||(x[5]=S=>ve.value=!1)},null,8,["open"]),P($s,{open:le.value,message:ge.value,onClose:x[6]||(x[6]=S=>le.value=!1)},null,8,["open","message"])]))}});export{In as default};
